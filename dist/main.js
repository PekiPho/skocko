(()=>{"use strict";var e={807:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RandomZnaci=void 0;var r=function(){function e(){this.brojevi=[-1,-1,-1,-1];for(var e=0;e<4;e++)this.brojevi[e]=Math.floor(6*Math.random())}return e.prototype.pokusaj=function(e){for(var t=!0,r=0;r<4;r++)e[r]!=this.brojevi[r]&&(t=!1);return t},e.prototype.dajBoje=function(e){for(var t=[0,0],r=[!1,!1,!1,!1],a=[0,0,0,0,0,0],o=0;o<4;o++)a[this.brojevi[o]]++;for(o=0;o<4;o++)e[o]==this.brojevi[o]&&(a[e[o]]--,r[o]=!0,t[0]++);for(o=0;o<4;o++)a[e[o]]>0&&!1===r[o]&&(a[e[o]]--,t[1]++);return t},e}();t.RandomZnaci=r},462:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(807),o=function(){function e(){this.currRow=0,this.kombinacija=new a.RandomZnaci}return e.prototype.generateMap=function(e){for(var t=this,r=0;r<6;r++){var a=document.createElement("div");a.classList.add("horizontalno");var o=document.createElement("div");o.classList.add("redLevo"),o.classList.add("red".concat(r));var s=document.createElement("div");s.classList.add("redDesno"),s.classList.add("red".concat(r));for(var n=0;n<4;n++){var c=document.createElement("img");c.src="",c.classList.add("polje"),c.classList.add("polje".concat(n)),o.appendChild(c),a.appendChild(o);var d=document.createElement("div");d.classList.add("guess"),d.style.backgroundColor="gray",s.appendChild(d),a.appendChild(s)}e.appendChild(a)}var i=document.createElement("div");i.classList.add("znakovi");var l=function(e){var r=document.createElement("img");switch(r.classList.add("znak"),r.classList.add("".concat(e)),e){case 0:r.src="../assets/skocko.png";break;case 1:r.src="../assets/tref.png";break;case 2:r.src="../assets/pik.png";break;case 3:r.src="../assets/herc.png";break;case 4:r.src="../assets/karo.png";break;case 5:r.src="../assets/zvezda.png"}r.addEventListener("click",(function(){t.dodaj(r)})),i.appendChild(r)};for(r=0;r<6;r++)l(r);e.appendChild(i);var u=document.createElement("div");u.classList.add("btnContainer");var p=document.createElement("button");p.classList.add("dugme"),p.textContent="POGODI",p.addEventListener("click",(function(){t.pogadjaj()})),u.appendChild(p);var v=document.createElement("button");v.classList.add("dugme"),v.textContent="Nova Igra",v.addEventListener("click",(function(){t.reset()})),u.appendChild(v),e.appendChild(u)},e.prototype.dodaj=function(e){e.firstChild;for(var t=document.querySelector(".redLevo.red".concat(this.currRow)).children,r=0;r<t.length;r++)if(""==t[r].getAttribute("src")){t[r].setAttribute("src",e.src),t[r].setAttribute("class",e.className.split(" ")[1]);break}},e.prototype.pogadjaj=function(){for(var e=!1,t=[],r=document.querySelector(".redLevo.red".concat(this.currRow)).children,a=0;a<r.length;a++){if(""==r[a].getAttribute("src")){e=!0,t=[];break}t.push(parseInt(r[a].className.split(" ")[0]))}e||(this.kombinacija.pokusaj(t)?(this.oboji(t),alert("Pobeda!!!")):(this.oboji(t),this.currRow++))},e.prototype.oboji=function(e){var t;t=this.kombinacija.dajBoje(e);for(var r=document.querySelector(".redDesno.red".concat(this.currRow)).children,a=0,o=0;o<r.length;o++)"background-color: gray;"==r[a].getAttribute("style")&&t[0]>0?(r[a++].setAttribute("style","background-color: red;"),t[0]--):t[1]>0&&"background-color: gray;"==r[a].getAttribute("style")&&(r[a++].setAttribute("style","background-color: yellow;"),t[1]--)},e.prototype.reset=function(){this.currRow=0,this.kombinacija=new a.RandomZnaci;var e=0;document.querySelectorAll(".redLevo>*").forEach((function(t){t.className="",t.classList.add("polje"),t.classList.add("polje".concat(e%4)),t.setAttribute("src","")})),e=0,document.querySelectorAll(".redDesno>*").forEach((function(e){e.setAttribute("style","background-color: gray;")}))},e}();t.default=o}},t={};(new(function r(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,r),s.exports}(462).default)).generateMap(document.body)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxTQUFRLFNBQUFDLEdBQ2pCQSxFQUFRZCxhQUFhLFFBQVEsMEJBQ2pDLEdBQ0osRUFLSixFQXZMQSxHLGNDREllLEVBQTJCLENBQUMsR0NFekIsSURDUCxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxPQUNmLENDdEJBLE1BR1csVUFFVHJELFlBQVlHLFNBQVNxRCxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2tvY2tvLy4vc3JjL2xvZ2lrYS50cyIsIndlYnBhY2s6Ly9za29ja28vLi9zcmMvbWFwLnRzIiwid2VicGFjazovL3Nrb2Nrby93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9za29ja28vLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5leHBvcnQgY2xhc3MgUmFuZG9tWm5hY2l7XHJcbiAgICBicm9qZXZpOm51bWJlcltdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5icm9qZXZpPVstMSwtMSwtMSwtMV07XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTw0O2krKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvamV2aVtpXT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNik7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5icm9qZXZpW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcG9rdXNhaihuaXo6bnVtYmVyW10pe1xyXG4gICAgICAgIGxldCB2cmVkbm9zdDpib29sZWFuPXRydWU7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTw0O2krKyl7XHJcbiAgICAgICAgICAgIGlmKG5peltpXSE9dGhpcy5icm9qZXZpW2ldKVxyXG4gICAgICAgICAgICAgICAgdnJlZG5vc3Q9ZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2cmVkbm9zdDtcclxuICAgIH1cclxuXHJcbiAgICBkYWpCb2plKG5pejpudW1iZXJbXSk6bnVtYmVyW117XHJcblxyXG4gICAgICAgIGxldCBrb25hY25pTml6PVswLDBdOyAvLyB0YWNubywgcG9zdG9qaSBuYSBsb3NlIG1lc3RvXHJcbiAgICAgICAgbGV0IHBvbW9jbmlOaXo9W2ZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlXTtcclxuICAgICAgICBsZXQgYm9qZU1hcGE6bnVtYmVyW109WzAsMCwwLDAsMCwwXTtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTw0O2krKylcclxuICAgICAgICAgICAgYm9qZU1hcGFbdGhpcy5icm9qZXZpW2ldXSsrO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvcihsZXQgaT0wO2k8NDtpKyspe1xyXG4gICAgICAgICAgICBpZihuaXpbaV09PXRoaXMuYnJvamV2aVtpXSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBib2plTWFwYVtuaXpbaV1dLS07XHJcbiAgICAgICAgICAgICAgICAgICAgcG9tb2NuaU5peltpXT10cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGtvbmFjbmlOaXpbMF0rKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTw0O2krKyl7XHJcbiAgICAgICAgICAgIGlmKGJvamVNYXBhW25peltpXV0+MCAmJiBwb21vY25pTml6W2ldPT09ZmFsc2UpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9qZU1hcGFbbml6W2ldXS0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGtvbmFjbmlOaXpbMV0rKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBrb25hY25pTml6O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmFuZG9tWm5hY2kgfSBmcm9tIFwiLi9sb2dpa2FcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWV7XHJcbiAgICBjdXJyUm93OiBudW1iZXI7XHJcbiAgICBrb21iaW5hY2lqYTphbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmN1cnJSb3c9MDtcclxuICAgICAgICB0aGlzLmtvbWJpbmFjaWphPW5ldyBSYW5kb21abmFjaSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlTWFwKGNvbnRhaW5lcjpIVE1MRWxlbWVudCl7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTw2O2krKyl7XHJcbiAgICAgICAgICAgIGxldCByZWQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgcmVkLmNsYXNzTGlzdC5hZGQoXCJob3Jpem9udGFsbm9cIik7XHJcbiAgICBcclxuICAgICAgICAgICAgbGV0IHJlZExldm89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHJlZExldm8uY2xhc3NMaXN0LmFkZCgncmVkTGV2bycpO1xyXG4gICAgICAgICAgICByZWRMZXZvLmNsYXNzTGlzdC5hZGQoYHJlZCR7aX1gKTtcclxuICAgIFxyXG4gICAgICAgICAgICBsZXQgcmVkRGVzbm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcmVkRGVzbm8uY2xhc3NMaXN0LmFkZCgncmVkRGVzbm8nKTtcclxuICAgICAgICAgICAgcmVkRGVzbm8uY2xhc3NMaXN0LmFkZChgcmVkJHtpfWApO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGZvcihsZXQgaj0wO2o8NDtqKyspe1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgcG9samVTbGlrYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgICAgIC8vbGV0IHBvbGplPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgcG9samVTbGlrYS5zcmM9XCJcIjtcclxuICAgICAgICAgICAgICAgIC8vcG9samVTbGlrYS5hbHQ9XCJcIjtcclxuICAgICAgICAgICAgICAgIC8vcG9samVTbGlrYS5vbmVycm9yPWZ1bmN0aW9uKCl7dGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJzt9O1xyXG4gICAgICAgICAgICAgICAgcG9samVTbGlrYS5jbGFzc0xpc3QuYWRkKFwicG9samVcIik7XHJcbiAgICAgICAgICAgICAgICBwb2xqZVNsaWthLmNsYXNzTGlzdC5hZGQoYHBvbGplJHtqfWApO1xyXG4gICAgICAgICAgICAgICAgLy9wb2xqZS5hcHBlbmRDaGlsZChwb2xqZVNsaWthKTtcclxuICAgICAgICAgICAgICAgIHJlZExldm8uYXBwZW5kQ2hpbGQocG9samVTbGlrYSk7XHJcbiAgICAgICAgICAgICAgICByZWQuYXBwZW5kQ2hpbGQocmVkTGV2byk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IGd1ZXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBndWVzcy5jbGFzc0xpc3QuYWRkKFwiZ3Vlc3NcIik7XHJcbiAgICAgICAgICAgICAgICBndWVzcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IFwiZ3JheVwiO1xyXG4gICAgICAgICAgICAgICAgcmVkRGVzbm8uYXBwZW5kQ2hpbGQoZ3Vlc3MpO1xyXG4gICAgICAgICAgICAgICAgcmVkLmFwcGVuZENoaWxkKHJlZERlc25vKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZWQpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGxldCB6bmFrb3ZpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHpuYWtvdmkuY2xhc3NMaXN0LmFkZChcInpuYWtvdmlcIik7XHJcbiAgICBcclxuICAgICAgICBmb3IobGV0IGk9MDtpPDY7aSsrKXtcclxuICAgICAgICAgICAgLy9sZXQgem5hazpIVE1MRGl2RWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIGxldCBpbWFnZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZCgnem5haycpO1xyXG4gICAgICAgICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKGAke2l9YCk7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2goaSl7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGltYWdlLnNyYz0nLi4vYXNzZXRzL3Nrb2Nrby5wbmcnOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMTogaW1hZ2Uuc3JjPScuLi9hc3NldHMvdHJlZi5wbmcnOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjogaW1hZ2Uuc3JjPScuLi9hc3NldHMvcGlrLnBuZyc7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOiBpbWFnZS5zcmM9Jy4uL2Fzc2V0cy9oZXJjLnBuZyc7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBpbWFnZS5zcmM9Jy4uL2Fzc2V0cy9rYXJvLnBuZyc7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBpbWFnZS5zcmM9Jy4uL2Fzc2V0cy96dmV6ZGEucG5nJzsgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9Pnt0aGlzLmRvZGFqKGltYWdlKTt9KTtcclxuICAgICAgICAgICAgem5ha292aS5hcHBlbmRDaGlsZChpbWFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh6bmFrb3ZpKTtcclxuICAgIFxyXG4gICAgICAgIGxldCBidG5Db250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgYnRuQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2J0bkNvbnRhaW5lcicpO1xyXG4gICAgXHJcbiAgICAgICAgbGV0IFBvZ2FkamFqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIFBvZ2FkamFqLmNsYXNzTGlzdC5hZGQoJ2R1Z21lJyk7XHJcbiAgICAgICAgUG9nYWRqYWoudGV4dENvbnRlbnQ9XCJQT0dPRElcIjtcclxuICAgICAgICBQb2dhZGphai5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoKT0+e3RoaXMucG9nYWRqYWooKTt9KTtcclxuICAgICAgICBidG5Db250YWluZXIuYXBwZW5kQ2hpbGQoUG9nYWRqYWopO1xyXG4gICAgXHJcbiAgICAgICAgbGV0IG5vdmFJZ3JhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIG5vdmFJZ3JhLmNsYXNzTGlzdC5hZGQoJ2R1Z21lJyk7XHJcbiAgICAgICAgbm92YUlncmEudGV4dENvbnRlbnQ9XCJOb3ZhIElncmFcIjtcclxuICAgICAgICBub3ZhSWdyYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoKT0+e3RoaXMucmVzZXQoKTt9KTtcclxuICAgICAgICBidG5Db250YWluZXIuYXBwZW5kQ2hpbGQobm92YUlncmEpO1xyXG4gICAgXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ0bkNvbnRhaW5lcik7XHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICBkb2RhaihlbDpIVE1MSW1hZ2VFbGVtZW50KTp2b2lke1xyXG4gICAgICAgIGxldCBzbGlrYT1lbC5maXJzdENoaWxkO1xyXG5cclxuICAgICAgICBsZXQgdHJlblJlZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucmVkTGV2by5yZWQke3RoaXMuY3VyclJvd31gKS5jaGlsZHJlbjtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGAucmVkTGV2by5yZWQke3RoaXMuY3VyclJvd31gKTtcclxuICAgICAgICBmb3IobGV0IGk9MDtpPHRyZW5SZWQubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGlmKHRyZW5SZWRbaV0uZ2V0QXR0cmlidXRlKCdzcmMnKT09XCJcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdHJlblJlZFtpXS5zZXRBdHRyaWJ1dGUoJ3NyYycsZWwuc3JjKTtcclxuICAgICAgICAgICAgICAgIHRyZW5SZWRbaV0uc2V0QXR0cmlidXRlKCdjbGFzcycsZWwuY2xhc3NOYW1lLnNwbGl0KCcgJylbMV0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcG9nYWRqYWooKTp2b2lke1xyXG4gICAgICAgIGxldCBjaGVja2VyOmJvb2xlYW49ZmFsc2U7XHJcbiAgICAgICAgbGV0IG5pejpudW1iZXJbXSA9IFtdO1xyXG4gICAgICAgIGxldCB0cmVudXRuaVJlZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucmVkTGV2by5yZWQke3RoaXMuY3VyclJvd31gKS5jaGlsZHJlbjtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCk7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTx0cmVudXRuaVJlZC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgaWYodHJlbnV0bmlSZWRbaV0uZ2V0QXR0cmlidXRlKCdzcmMnKT09XCJcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tlcj10cnVlO1xyXG4gICAgICAgICAgICAgICAgbml6PVtdO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIG5pei5wdXNoKHBhcnNlSW50KHRyZW51dG5pUmVkW2ldLmNsYXNzTmFtZS5zcGxpdCgnICcpWzBdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhuaXopO1xyXG4gICAgICAgIGlmKCFjaGVja2VyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYodGhpcy5rb21iaW5hY2lqYS5wb2t1c2FqKG5peikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYm9qaShuaXopO1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUG9iZWRhISEhXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYm9qaShuaXopO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyUm93Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9ib2ppKG5pejpudW1iZXJbXSl7XHJcbiAgICAgICAgbGV0IG5pekJvamE6bnVtYmVyW107XHJcbiAgICAgICAgbml6Qm9qYT0gdGhpcy5rb21iaW5hY2lqYS5kYWpCb2plKG5peik7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImtvbWJpbmFjaWphIGplIFwiICsgdGhpcy5rb21iaW5hY2lqYS5icm9qZXZpKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKG5pekJvamEpO1xyXG5cclxuICAgICAgICBsZXQgZ3Vlc3NSZWQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnJlZERlc25vLnJlZCR7dGhpcy5jdXJyUm93fWApLmNoaWxkcmVuO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coZ3Vlc3NSZWQpO1xyXG4gICAgICAgIGxldCBjb2xvckNvdW50ZXI9MDtcclxuICAgICAgICBmb3IobGV0IGk9MDtpPGd1ZXNzUmVkLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBpZihndWVzc1JlZFtjb2xvckNvdW50ZXJdLmdldEF0dHJpYnV0ZSgnc3R5bGUnKT09XCJiYWNrZ3JvdW5kLWNvbG9yOiBncmF5O1wiICYmIG5pekJvamFbMF0+MCl7XHJcbiAgICAgICAgICAgICAgICBndWVzc1JlZFtjb2xvckNvdW50ZXIrK10uc2V0QXR0cmlidXRlKCdzdHlsZScsXCJiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XCIpO1xyXG4gICAgICAgICAgICAgICAgbml6Qm9qYVswXS0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYobml6Qm9qYVsxXT4wICYmIGd1ZXNzUmVkW2NvbG9yQ291bnRlcl0uZ2V0QXR0cmlidXRlKCdzdHlsZScpPT1cImJhY2tncm91bmQtY29sb3I6IGdyYXk7XCIpe1xyXG4gICAgICAgICAgICAgICAgZ3Vlc3NSZWRbY29sb3JDb3VudGVyKytdLnNldEF0dHJpYnV0ZSgnc3R5bGUnLFwiYmFja2dyb3VuZC1jb2xvcjogeWVsbG93O1wiKTtcclxuICAgICAgICAgICAgICAgIG5pekJvamFbMV0tLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpe1xyXG4gICAgICAgIHRoaXMuY3VyclJvdz0wO1xyXG4gICAgICAgIHRoaXMua29tYmluYWNpamE9bmV3IFJhbmRvbVpuYWNpKCk7XHJcbiAgICAgICAgbGV0IGk9MDtcclxuICAgICAgICBsZXQgem5ha292aVBvbGphPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5yZWRMZXZvPipgKTtcclxuXHJcbiAgICAgICAgem5ha292aVBvbGphLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lPVwiXCI7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvbGplXCIpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYHBvbGplJHtpJTR9YCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3JjXCIsXCJcIik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGk9MDtcclxuICAgICAgICBsZXQgem5ha292aUd1ZXNzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5yZWREZXNubz4qYCk7XHJcbiAgICAgICAgem5ha292aUd1ZXNzLmZvckVhY2goZWxlbWVudD0+e1xyXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLFwiYmFja2dyb3VuZC1jb2xvcjogZ3JheTtcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG4gICAgXHJcbn1cclxuXHJcbi8qZGEga29yaXN0aW0gaGFzaCBtYXB1IHphIHBhbWNlbmplIGJyb2pldmEgb2QgMC01IGkgb25kYSBwcnZpIHByb2xheiBha28gZWxlbWVudCBpelxyXG5uYXNlZyBwb2dhZGphbmphIGplZG5hayBlbGVtZW50dSBzbWFuanVqZW1vLCBpIHBydm8gcHJvbGF6aW1vIHRha28ga3JveiBuaXosb25kYSBlbGVtZW50aSBrb2ppIG5pc3UgbmEgbWVzdG9cclxucHJvZGplbW8gZGEgcGl0YW1vIGRhIGxpIHBvc3RvamUgdSBoYXNoIG1hcGkgZGEgYmkgem5hbGkgZGEgcG9zdG9qaSBhbGkgbmlqZSBuYSBtZXN0dVxyXG4qLyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJpbXBvcnQgR2FtZSBmcm9tICcuL21hcCc7XHJcblxyXG5cclxubGV0IGc9IG5ldyBHYW1lKCk7XHJcblxyXG5nLmdlbmVyYXRlTWFwKGRvY3VtZW50LmJvZHkpO1xyXG4iXSwibmFtZXMiOlsidGhpcyIsImJyb2pldmkiLCJpIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicG9rdXNhaiIsIm5peiIsInZyZWRub3N0IiwiZGFqQm9qZSIsImtvbmFjbmlOaXoiLCJwb21vY25pTml6IiwiYm9qZU1hcGEiLCJSYW5kb21abmFjaSIsImN1cnJSb3ciLCJrb21iaW5hY2lqYSIsImdlbmVyYXRlTWFwIiwiY29udGFpbmVyIiwicmVkIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVkTGV2byIsInJlZERlc25vIiwiaiIsInBvbGplU2xpa2EiLCJzcmMiLCJhcHBlbmRDaGlsZCIsImd1ZXNzIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ6bmFrb3ZpIiwiaW1hZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwiZG9kYWoiLCJidG5Db250YWluZXIiLCJQb2dhZGphaiIsInRleHRDb250ZW50IiwicG9nYWRqYWoiLCJub3ZhSWdyYSIsInJlc2V0IiwiZWwiLCJmaXJzdENoaWxkIiwidHJlblJlZCIsInF1ZXJ5U2VsZWN0b3IiLCJjaGlsZHJlbiIsImxlbmd0aCIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImNsYXNzTmFtZSIsInNwbGl0IiwiY2hlY2tlciIsInRyZW51dG5pUmVkIiwicHVzaCIsInBhcnNlSW50Iiwib2JvamkiLCJhbGVydCIsIm5pekJvamEiLCJndWVzc1JlZCIsImNvbG9yQ291bnRlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=