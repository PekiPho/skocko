(()=>{"use strict";var e={807:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RandomZnaci=void 0;var r=function(){function e(){this.brojevi=[-1,-1,-1,-1];for(var e=0;e<4;e++)this.brojevi[e]=Math.floor(6*Math.random())}return e.prototype.pokusaj=function(e){for(var t=!0,r=0;r<4;r++)e[r]!=this.brojevi[r]&&(t=!1);return t},e.prototype.dajBoje=function(e){for(var t=[0,0],r=[!1,!1,!1,!1],a=[0,0,0,0,0,0],o=0;o<4;o++)a[this.brojevi[o]]++;for(o=0;o<4;o++)e[o]==this.brojevi[o]&&(a[e[o]]--,r[o]=!0,t[0]++);for(o=0;o<4;o++)a[e[o]]>0&&!1===r[o]&&(a[e[o]]--,t[1]++);return t},e}();t.RandomZnaci=r},462:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(807),o=function(){function e(){this.currRow=0,this.kombinacija=new a.RandomZnaci}return e.prototype.generateMap=function(e){for(var t=this,r=0;r<6;r++){var a=document.createElement("div");a.classList.add("horizontalno");var o=document.createElement("div");o.classList.add("redLevo"),o.classList.add("red".concat(r));var s=document.createElement("div");s.classList.add("redDesno"),s.classList.add("red".concat(r));for(var n=0;n<4;n++){var c=document.createElement("img");c.src="",c.classList.add("polje"),c.classList.add("polje".concat(n)),o.appendChild(c),a.appendChild(o);var d=document.createElement("div");d.classList.add("guess"),d.style.backgroundColor="gray",s.appendChild(d),a.appendChild(s)}e.appendChild(a)}var i=document.createElement("div");i.classList.add("znakovi");var l=function(e){var r=document.createElement("img");switch(r.classList.add("znak"),r.classList.add("".concat(e)),e){case 0:r.src="../assets/skocko.png";break;case 1:r.src="../assets/tref.png";break;case 2:r.src="../assets/pik.png";break;case 3:r.src="../assets/herc.png";break;case 4:r.src="../assets/karo.png";break;case 5:r.src="../assets/zvezda.png"}r.addEventListener("click",(function(){t.dodaj(r)})),i.appendChild(r)};for(r=0;r<6;r++)l(r);e.appendChild(i);var u=document.createElement("div");u.classList.add("btnContainer");var p=document.createElement("button");p.classList.add("dugme"),p.textContent="POGODI",p.addEventListener("click",(function(){t.pogadjaj()})),u.appendChild(p);var v=document.createElement("button");v.classList.add("dugme"),v.textContent="Nova Igra",v.addEventListener("click",this.reset),u.appendChild(v),e.appendChild(u)},e.prototype.dodaj=function(e){e.firstChild;for(var t=document.querySelector(".redLevo.red".concat(this.currRow)).children,r=0;r<t.length;r++)if(""==t[r].getAttribute("src")){t[r].setAttribute("src",e.src),t[r].setAttribute("class",e.className.split(" ")[1]);break}},e.prototype.pogadjaj=function(){for(var e=!1,t=[],r=document.querySelector(".redLevo.red".concat(this.currRow)).children,a=0;a<r.length;a++){if(""==r[a].getAttribute("src")){e=!0,t=[];break}t.push(parseInt(r[a].className.split(" ")[0]))}e||(this.kombinacija.pokusaj(t)?(this.oboji(t),alert("Pobeda!!!")):this.oboji(t),this.currRow++)},e.prototype.oboji=function(e){var t;t=this.kombinacija.dajBoje(e);for(var r=document.querySelector(".redDesno.red".concat(this.currRow)).children,a=0,o=0;o<r.length;o++)"background-color: gray;"==r[a].getAttribute("style")&&t[0]>0?(r[a++].setAttribute("style","background-color: red;"),t[0]--):t[1]>0&&"background-color: gray;"==r[a].getAttribute("style")&&(r[a++].setAttribute("style","background-color: yellow;"),t[1]--)},e.prototype.reset=function(){},e}();t.default=o}},t={};(new(function r(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,r),s.exports}(462).default)).generateMap(document.body)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9za29ja28vLi9zcmMvbG9naWthLnRzIiwid2VicGFjazovL3Nrb2Nrby8uL3NyYy9tYXAudHMiLCJ3ZWJwYWNrOi8vc2tvY2tvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3Nrb2Nrby8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuZXhwb3J0IGNsYXNzIFJhbmRvbVpuYWNpe1xuICAgIGJyb2pldmk6bnVtYmVyW107XG5cbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLmJyb2pldmk9Wy0xLC0xLC0xLC0xXTtcbiAgICAgICAgZm9yKGxldCBpPTA7aTw0O2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5icm9qZXZpW2ldPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo2KTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5icm9qZXZpW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbiAgICBwb2t1c2FqKG5pejpudW1iZXJbXSl7XG4gICAgICAgIGxldCB2cmVkbm9zdDpib29sZWFuPXRydWU7XG4gICAgICAgIGZvcihsZXQgaT0wO2k8NDtpKyspe1xuICAgICAgICAgICAgaWYobml6W2ldIT10aGlzLmJyb2pldmlbaV0pXG4gICAgICAgICAgICAgICAgdnJlZG5vc3Q9ZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZyZWRub3N0O1xuICAgIH1cblxuICAgIGRhakJvamUobml6Om51bWJlcltdKTpudW1iZXJbXXtcblxuICAgICAgICBsZXQga29uYWNuaU5pej1bMCwwXTsgLy8gdGFjbm8sIHBvc3RvamkgbmEgbG9zZSBtZXN0b1xuICAgICAgICBsZXQgcG9tb2NuaU5pej1bZmFsc2UsZmFsc2UsZmFsc2UsZmFsc2VdO1xuICAgICAgICBsZXQgYm9qZU1hcGE6bnVtYmVyW109WzAsMCwwLDAsMCwwXTtcblxuICAgICAgICBmb3IobGV0IGk9MDtpPDQ7aSsrKVxuICAgICAgICAgICAgYm9qZU1hcGFbdGhpcy5icm9qZXZpW2ldXSsrO1xuICAgICAgICBcbiAgICAgICAgZm9yKGxldCBpPTA7aTw0O2krKyl7XG4gICAgICAgICAgICBpZihuaXpbaV09PXRoaXMuYnJvamV2aVtpXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJvamVNYXBhW25peltpXV0tLTtcbiAgICAgICAgICAgICAgICAgICAgcG9tb2NuaU5peltpXT10cnVlO1xuICAgICAgICAgICAgICAgICAgICBrb25hY25pTml6WzBdKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcihsZXQgaT0wO2k8NDtpKyspe1xuICAgICAgICAgICAgaWYoYm9qZU1hcGFbbml6W2ldXT4wICYmIHBvbW9jbmlOaXpbaV09PT1mYWxzZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJvamVNYXBhW25peltpXV0tLTtcbiAgICAgICAgICAgICAgICAgICAga29uYWNuaU5pelsxXSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBrb25hY25pTml6O1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSYW5kb21abmFjaSB9IGZyb20gXCIuL2xvZ2lrYVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1le1xuICAgIGN1cnJSb3c6IG51bWJlcjtcbiAgICBrb21iaW5hY2lqYTphbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLmN1cnJSb3c9MDtcbiAgICAgICAgdGhpcy5rb21iaW5hY2lqYT1uZXcgUmFuZG9tWm5hY2koKTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZU1hcChjb250YWluZXI6SFRNTEVsZW1lbnQpe1xuICAgICAgICBmb3IobGV0IGk9MDtpPDY7aSsrKXtcbiAgICAgICAgICAgIGxldCByZWQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHJlZC5jbGFzc0xpc3QuYWRkKFwiaG9yaXpvbnRhbG5vXCIpO1xuICAgIFxuICAgICAgICAgICAgbGV0IHJlZExldm89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICByZWRMZXZvLmNsYXNzTGlzdC5hZGQoJ3JlZExldm8nKTtcbiAgICAgICAgICAgIHJlZExldm8uY2xhc3NMaXN0LmFkZChgcmVkJHtpfWApO1xuICAgIFxuICAgICAgICAgICAgbGV0IHJlZERlc25vID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICByZWREZXNuby5jbGFzc0xpc3QuYWRkKCdyZWREZXNubycpO1xuICAgICAgICAgICAgcmVkRGVzbm8uY2xhc3NMaXN0LmFkZChgcmVkJHtpfWApO1xuICAgIFxuICAgICAgICAgICAgZm9yKGxldCBqPTA7ajw0O2orKyl7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IHBvbGplU2xpa2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgLy9sZXQgcG9samU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgcG9samVTbGlrYS5zcmM9XCJcIjtcbiAgICAgICAgICAgICAgICAvL3BvbGplU2xpa2EuYWx0PVwiXCI7XG4gICAgICAgICAgICAgICAgLy9wb2xqZVNsaWthLm9uZXJyb3I9ZnVuY3Rpb24oKXt0aGlzLnN0eWxlLmRpc3BsYXk9J25vbmUnO307XG4gICAgICAgICAgICAgICAgcG9samVTbGlrYS5jbGFzc0xpc3QuYWRkKFwicG9samVcIik7XG4gICAgICAgICAgICAgICAgcG9samVTbGlrYS5jbGFzc0xpc3QuYWRkKGBwb2xqZSR7an1gKTtcbiAgICAgICAgICAgICAgICAvL3BvbGplLmFwcGVuZENoaWxkKHBvbGplU2xpa2EpO1xuICAgICAgICAgICAgICAgIHJlZExldm8uYXBwZW5kQ2hpbGQocG9samVTbGlrYSk7XG4gICAgICAgICAgICAgICAgcmVkLmFwcGVuZENoaWxkKHJlZExldm8pO1xuICAgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBndWVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGd1ZXNzLmNsYXNzTGlzdC5hZGQoXCJndWVzc1wiKTtcbiAgICAgICAgICAgICAgICBndWVzcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IFwiZ3JheVwiO1xuICAgICAgICAgICAgICAgIHJlZERlc25vLmFwcGVuZENoaWxkKGd1ZXNzKTtcbiAgICAgICAgICAgICAgICByZWQuYXBwZW5kQ2hpbGQocmVkRGVzbm8pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlZCk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgbGV0IHpuYWtvdmk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHpuYWtvdmkuY2xhc3NMaXN0LmFkZChcInpuYWtvdmlcIik7XG4gICAgXG4gICAgICAgIGZvcihsZXQgaT0wO2k8NjtpKyspe1xuICAgICAgICAgICAgLy9sZXQgem5hazpIVE1MRGl2RWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgXG4gICAgICAgICAgICBsZXQgaW1hZ2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKCd6bmFrJyk7XG4gICAgICAgICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKGAke2l9YCk7XG5cbiAgICAgICAgICAgIHN3aXRjaChpKXtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGltYWdlLnNyYz0nLi4vYXNzZXRzL3Nrb2Nrby5wbmcnOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6IGltYWdlLnNyYz0nLi4vYXNzZXRzL3RyZWYucG5nJzsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOiBpbWFnZS5zcmM9Jy4uL2Fzc2V0cy9waWsucG5nJzsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiBpbWFnZS5zcmM9Jy4uL2Fzc2V0cy9oZXJjLnBuZyc7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogaW1hZ2Uuc3JjPScuLi9hc3NldHMva2Fyby5wbmcnOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6IGltYWdlLnNyYz0nLi4vYXNzZXRzL3p2ZXpkYS5wbmcnOyBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e3RoaXMuZG9kYWooaW1hZ2UpO30pO1xuICAgICAgICAgICAgem5ha292aS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh6bmFrb3ZpKTtcbiAgICBcbiAgICAgICAgbGV0IGJ0bkNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYnRuQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2J0bkNvbnRhaW5lcicpO1xuICAgIFxuICAgICAgICBsZXQgUG9nYWRqYWo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIFBvZ2FkamFqLmNsYXNzTGlzdC5hZGQoJ2R1Z21lJyk7XG4gICAgICAgIFBvZ2FkamFqLnRleHRDb250ZW50PVwiUE9HT0RJXCI7XG4gICAgICAgIFBvZ2FkamFqLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCgpPT57dGhpcy5wb2dhZGphaigpO30pO1xuICAgICAgICBidG5Db250YWluZXIuYXBwZW5kQ2hpbGQoUG9nYWRqYWopO1xuICAgIFxuICAgICAgICBsZXQgbm92YUlncmE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIG5vdmFJZ3JhLmNsYXNzTGlzdC5hZGQoJ2R1Z21lJyk7XG4gICAgICAgIG5vdmFJZ3JhLnRleHRDb250ZW50PVwiTm92YSBJZ3JhXCI7XG4gICAgICAgIG5vdmFJZ3JhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMucmVzZXQpO1xuICAgICAgICBidG5Db250YWluZXIuYXBwZW5kQ2hpbGQobm92YUlncmEpO1xuICAgIFxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYnRuQ29udGFpbmVyKTtcbiAgICBcbiAgICB9XG5cbiAgICBkb2RhaihlbDpIVE1MSW1hZ2VFbGVtZW50KTp2b2lke1xuICAgICAgICBsZXQgc2xpa2E9ZWwuZmlyc3RDaGlsZDtcblxuICAgICAgICBsZXQgdHJlblJlZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucmVkTGV2by5yZWQke3RoaXMuY3VyclJvd31gKS5jaGlsZHJlbjtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgLnJlZExldm8ucmVkJHt0aGlzLmN1cnJSb3d9YCk7XG4gICAgICAgIGZvcihsZXQgaT0wO2k8dHJlblJlZC5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGlmKHRyZW5SZWRbaV0uZ2V0QXR0cmlidXRlKCdzcmMnKT09XCJcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmVuUmVkW2ldLnNldEF0dHJpYnV0ZSgnc3JjJyxlbC5zcmMpO1xuICAgICAgICAgICAgICAgIHRyZW5SZWRbaV0uc2V0QXR0cmlidXRlKCdjbGFzcycsZWwuY2xhc3NOYW1lLnNwbGl0KCcgJylbMV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9nYWRqYWooKTp2b2lke1xuICAgICAgICBsZXQgY2hlY2tlcjpib29sZWFuPWZhbHNlO1xuICAgICAgICBsZXQgbml6Om51bWJlcltdID0gW107XG4gICAgICAgIGxldCB0cmVudXRuaVJlZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucmVkTGV2by5yZWQke3RoaXMuY3VyclJvd31gKS5jaGlsZHJlbjtcbiAgICAgICAgLy9jb25zb2xlLmxvZygpO1xuICAgICAgICBmb3IobGV0IGk9MDtpPHRyZW51dG5pUmVkLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgaWYodHJlbnV0bmlSZWRbaV0uZ2V0QXR0cmlidXRlKCdzcmMnKT09XCJcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGVja2VyPXRydWU7XG4gICAgICAgICAgICAgICAgbml6PVtdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBuaXoucHVzaChwYXJzZUludCh0cmVudXRuaVJlZFtpXS5jbGFzc05hbWUuc3BsaXQoJyAnKVswXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2cobml6KTtcbiAgICAgICAgaWYoIWNoZWNrZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKHRoaXMua29tYmluYWNpamEucG9rdXNhaihuaXopKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYm9qaShuaXopO1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIlBvYmVkYSEhIVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMub2Jvamkobml6KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VyclJvdysrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2Jvamkobml6Om51bWJlcltdKXtcbiAgICAgICAgbGV0IG5pekJvamE6bnVtYmVyW107XG4gICAgICAgIG5pekJvamE9IHRoaXMua29tYmluYWNpamEuZGFqQm9qZShuaXopO1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwia29tYmluYWNpamEgamUgXCIgKyB0aGlzLmtvbWJpbmFjaWphLmJyb2pldmkpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKG5pekJvamEpO1xuXG4gICAgICAgIGxldCBndWVzc1JlZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucmVkRGVzbm8ucmVkJHt0aGlzLmN1cnJSb3d9YCkuY2hpbGRyZW47XG4gICAgICAgIC8vY29uc29sZS5sb2coZ3Vlc3NSZWQpO1xuICAgICAgICBsZXQgY29sb3JDb3VudGVyPTA7XG4gICAgICAgIGZvcihsZXQgaT0wO2k8Z3Vlc3NSZWQubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICBpZihndWVzc1JlZFtjb2xvckNvdW50ZXJdLmdldEF0dHJpYnV0ZSgnc3R5bGUnKT09XCJiYWNrZ3JvdW5kLWNvbG9yOiBncmF5O1wiICYmIG5pekJvamFbMF0+MCl7XG4gICAgICAgICAgICAgICAgZ3Vlc3NSZWRbY29sb3JDb3VudGVyKytdLnNldEF0dHJpYnV0ZSgnc3R5bGUnLFwiYmFja2dyb3VuZC1jb2xvcjogcmVkO1wiKTtcbiAgICAgICAgICAgICAgICBuaXpCb2phWzBdLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKG5pekJvamFbMV0+MCAmJiBndWVzc1JlZFtjb2xvckNvdW50ZXJdLmdldEF0dHJpYnV0ZSgnc3R5bGUnKT09XCJiYWNrZ3JvdW5kLWNvbG9yOiBncmF5O1wiKXtcbiAgICAgICAgICAgICAgICBndWVzc1JlZFtjb2xvckNvdW50ZXIrK10uc2V0QXR0cmlidXRlKCdzdHlsZScsXCJiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7XCIpO1xuICAgICAgICAgICAgICAgIG5pekJvamFbMV0tLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc2V0KCl7XG5cbiAgICB9XG5cbiAgICBcblxuICAgIFxufVxuXG4vKmRhIGtvcmlzdGltIGhhc2ggbWFwdSB6YSBwYW1jZW5qZSBicm9qZXZhIG9kIDAtNSBpIG9uZGEgcHJ2aSBwcm9sYXogYWtvIGVsZW1lbnQgaXpcbm5hc2VnIHBvZ2FkamFuamEgamVkbmFrIGVsZW1lbnR1IHNtYW5qdWplbW8sIGkgcHJ2byBwcm9sYXppbW8gdGFrbyBrcm96IG5peixvbmRhIGVsZW1lbnRpIGtvamkgbmlzdSBuYSBtZXN0b1xucHJvZGplbW8gZGEgcGl0YW1vIGRhIGxpIHBvc3RvamUgdSBoYXNoIG1hcGkgZGEgYmkgem5hbGkgZGEgcG9zdG9qaSBhbGkgbmlqZSBuYSBtZXN0dVxuKi8iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiaW1wb3J0IEdhbWUgZnJvbSAnLi9tYXAnO1xuXG5cbmxldCBnPSBuZXcgR2FtZSgpO1xuXG5nLmdlbmVyYXRlTWFwKGRvY3VtZW50LmJvZHkpO1xuIl0sIm5hbWVzIjpbInRoaXMiLCJicm9qZXZpIiwiaSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInBva3VzYWoiLCJuaXoiLCJ2cmVkbm9zdCIsImRhakJvamUiLCJrb25hY25pTml6IiwicG9tb2NuaU5peiIsImJvamVNYXBhIiwiUmFuZG9tWm5hY2kiLCJjdXJyUm93Iiwia29tYmluYWNpamEiLCJnZW5lcmF0ZU1hcCIsImNvbnRhaW5lciIsInJlZCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlZExldm8iLCJyZWREZXNubyIsImoiLCJwb2xqZVNsaWthIiwic3JjIiwiYXBwZW5kQ2hpbGQiLCJndWVzcyIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiem5ha292aSIsImltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRvZGFqIiwiYnRuQ29udGFpbmVyIiwiUG9nYWRqYWoiLCJ0ZXh0Q29udGVudCIsInBvZ2FkamFqIiwibm92YUlncmEiLCJyZXNldCIsImVsIiwiZmlyc3RDaGlsZCIsInRyZW5SZWQiLCJxdWVyeVNlbGVjdG9yIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc05hbWUiLCJzcGxpdCIsImNoZWNrZXIiLCJ0cmVudXRuaVJlZCIsInB1c2giLCJwYXJzZUludCIsIm9ib2ppIiwiYWxlcnQiLCJuaXpCb2phIiwiZ3Vlc3NSZWQiLCJjb2xvckNvdW50ZXIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9